$.Class=function(e,t){var n=t||e,o=function(e,t){var n=e.shift();return"undefined"==typeof t[n]&&(t[n]={}),e.length>0?o(e,t[n]):t},i=function(){var e=n.instances,t=function(e,t,n){pointer=o(e.namespace.split("."),window),$.extend(!0,pointer[e.namespace.split(".").pop()],t);for(var i in e)/^init/.test(i)&&"function"==typeof e[i]&&pointer[e.namespace.split(".").pop()][i].apply(pointer[e.namespace.split(".").pop()],n);window.loadedClass?window.loadedClass.push("required."+e.namespace):window.loadedClass=["required."+e.namespace],$(document).trigger("required."+e.namespace)};if(this.getType=function(){return"Class"},this.getDefinition=function(){return n},this.instanceOf=function(t){return t="function"==typeof t?t.name:t,t="object"==typeof t?"object":t,$.inArray(t.toString().toLowerCase(),e)>-1},"object"==typeof n.required){var i=this,s=[];for(var r in n.required)s.push("required."+n.required[r]);$(document).on(s.join(" "),{def:n,args:arguments},function(e){$.grep(s,function(e){return $.inArray(e,window.loadedClass)}).length===s.length&&t(e.data.def,i,e.data.args)})}else t(n,this,arguments)};n.instances=["object","class",n.namespace.toLowerCase()],t===n&&"object"==typeof e&&$.each(e,function(){n=$.extend({},this.getDefinition(),n),n.instances.push(this.getDefinition().namespace.toLowerCase())}),i.prototype=$.extend(!0,{},n),i.prototype.constructor=i,delete i.prototype.instances,n.consts&&"object"==typeof n.consts&&$.each(n.consts,function(e,t){i.prototype[e]=$.proxy(function(e){return e},this,t)}),new i};