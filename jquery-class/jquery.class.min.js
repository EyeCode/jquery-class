$.Class=function(e,n){var t=n||e,o=function(e,n){var t=e.shift();return"undefined"==typeof n[t]?n[t]={}:null,e.length>0?o(e,n[t]):n},i=function(){var e=function(e,n,t){pointer=o(e.namespace.split("."),window),$.extend(!0,pointer[e.namespace.split(".").pop()],n);for(var i in e)/^init/.test(i)&&"function"==typeof e[i]?e[i].apply(n,t):null;$.extend(!0,pointer[e.namespace.split(".").pop()],n),window.loadedClass?window.loadedClass.push("required."+e.namespace):window.loadedClass=["required."+e.namespace],$(document).trigger("required."+e.namespace)};if(this.getType=function(){return"Class"},this.getDefinition=function(){return t},"object"==typeof t.required){var n=this,i=[];for(var r in t.required)i.push("required."+t.required[r]);$(document).on(i.join(" "),{def:t,args:arguments},function(t){$.grep(i,function(e){return $.inArray(e,window.loadedClass)}).length===i.length&&e(t.data.def,n,t.data.args)})}else e(t,this,arguments)};n===t&&"object"==typeof e&&$.each(e,function(){t=$.extend({},this.getDefinition(),t)}),i.prototype=$.extend(!0,{},t),i.prototype.constructor=i,t.consts&&"object"==typeof t.consts&&$.each(t.consts,function(e,n){i.prototype[e]=$.proxy(function(e){return e},this,n)}),new i};